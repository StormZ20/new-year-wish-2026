<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy New Year 2026!</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');
  * { box-sizing: border-box; }
  body {
    margin: 0; padding: 0; overflow: hidden;
    display: flex; justify-content: center; align-items: center; flex-direction: column;
    height: 100vh; background: linear-gradient(to right, #ff9a9e, #fad0c4, #ffd6a5);
    font-family: 'Pacifico', cursive; color: #fff; text-align: center;
  }
  h1 { font-size: 3em; margin: 0.2em; text-shadow: 2px 2px 8px #000; position: relative; z-index:1; }
  p { font-size: 2em; text-shadow: 2px 2px 8px #000; position: relative; z-index:1; }
  input { padding: 8px; font-size: 1em; border-radius: 8px; border: none; margin-top: 10px; position: relative; z-index:1; }
  button { padding: 10px 20px; margin-top: 10px; font-size: 1em; border-radius: 10px; border: none; cursor: pointer; background: #fff; color: #ff6a95; font-weight: bold; position: relative; z-index:1; }
  button:hover { background: #ff6a95; color: #fff; }
  #muteBtn { position: absolute; top: 20px; right: 20px; z-index:1; }
  canvas { position: absolute; top:0; left:0; z-index:0; pointer-events:none; }
</style>
</head>
<body>

<h1 id="greeting">ðŸŽ‰ Happy New Year 2026! ðŸŽ‰</h1>
<p id="countdown">Loading countdown...</p>

<input id="nameInput" placeholder="Type your name">
<button id="celebrateBtn">Celebrate!</button>

<button id="muteBtn" onclick="toggleMusic()">ðŸ”Š Mute</button>

<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_9d1c46c9c5.mp3?filename=happy-new-year-joyful-music-12711.mp3" type="audio/mpeg">
</audio>

<canvas id="confetti"></canvas>

<script>
// ===== Countdown Timer =====
function updateCountdown() {
  const newYear = new Date('Jan 1, 2026 00:00:00').getTime();
  const now = new Date().getTime();
  const diff = newYear - now;
  if (diff < 0) { document.getElementById('countdown').innerText = "ðŸŽŠ Happy 2026! ðŸŽŠ"; return; }
  const days = Math.floor(diff / (1000*60*60*24));
  const hours = Math.floor((diff%(1000*60*60*24))/(1000*60*60));
  const minutes = Math.floor((diff%(1000*60*60))/(1000*60));
  const seconds = Math.floor((diff%(1000*60))/1000);
  document.getElementById('countdown').innerText = `Countdown: ${days}d ${hours}h ${minutes}m ${seconds}s`;
}
setInterval(updateCountdown, 1000);
updateCountdown();

// ===== Music Control =====
const music = document.getElementById('bgMusic');
let musicStarted = false;
let muted = false;

function toggleMusic(){
  if (!musicStarted) music.play().catch(()=>{});
  muted = !muted;
  music.muted = muted;
  document.getElementById('muteBtn').innerText = muted ? "ðŸ”‡ Unmute" : "ðŸ”Š Mute";
}

// ===== Personal Greeting + Start Music =====
document.getElementById('celebrateBtn').addEventListener('click', ()=>{
  // Start music on first interaction
  if(!musicStarted){
    music.play().catch(()=>{});
    musicStarted = true;
  }
  // Update greeting
  const name = document.getElementById('nameInput').value;
  if(name) document.getElementById('greeting').innerText = `ðŸŽ‰ Happy New Year 2026, ${name}! ðŸŽ‰`;
});

// ===== Confetti =====
const confettiCanvas = document.getElementById('confetti');
const confCtx = confettiCanvas.getContext('2d');
confettiCanvas.width = window.innerWidth;
confettiCanvas.height = window.innerHeight;

function random(min,max){return Math.random()*(max-min)+min;}

const confettiPieces = [];
for(let i=0;i<150;i++){
  confettiPieces.push({
    x:Math.random()*confettiCanvas.width,
    y:Math.random()*confettiCanvas.height,
    size:random(5,10),
    speed:random(1,3),
    color:['#ff6a95','#ffe066','#6a8cff','#ff9a9e','#a0e7e5'][Math.floor(Math.random()*5)]
  });
}

function animateConfetti(){
  confCtx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
  confettiPieces.forEach(p=>{
    confCtx.fillStyle=p.color;
    confCtx.fillRect(p.x,p.y,p.size,p.size);
    p.y += p.speed;
    if(p.y > confettiCanvas.height){p.y=0; p.x=Math.random()*confettiCanvas.width;}
  });
  requestAnimationFrame(animateConfetti);
}
animateConfetti();

// ===== Resize Canvas on Window Resize =====
window.addEventListener('resize', ()=>{
  confettiCanvas.width = window.innerWidth;
  confettiCanvas.height = window.innerHeight;
});
</script>

</body>
</html>
